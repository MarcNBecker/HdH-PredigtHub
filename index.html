<!doctype html>
<html>
  <head profile="http://www.w3.org/2005/10/profile">
    <!-- Favicon -->
    <link rel="icon" 
          type="image/png" 
          href="resources/img/favicon.png">

    <!-- Polymer dependencies -->
    <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js">
    </script>
    <link rel="import"
          href="bower_components/paper-drawer-panel/paper-drawer-panel.html">
    <link rel="import"
          href="bower_components/paper-header-panel/paper-header-panel.html">
    <link rel="import"
          href="bower_components/paper-toolbar/paper-toolbar.html">
    <link rel="import"
          href="bower_components/paper-icon-button/paper-icon-button.html">
    <link rel="import"
          href="bower_components/paper-menu/paper-menu.html">
    <link rel="import"
          href="bower_components/paper-menu/paper-submenu.html">
    <link rel="import"
          href="bower_components/paper-item/paper-item.html">
    <link rel="import"
          href="bower_components/iron-icons/iron-icons.html">
    <link rel="import"
          href="bower_components/iron-flex-layout/iron-flex-layout.html">
    <link rel="import"
          href="bower_components/iron-list/iron-list.html">
    <link rel="import"
          href="bower_components/iron-ajax/iron-ajax.html">
    <link rel="import"
          href="bower_components/font-roboto/roboto.html">

    <!-- Custom Polymer dependecies -->
    <link rel="import"
          href="custom_components/sermon-series/sermon-series.html">
    
    <!-- Main CSS -->
    <style>
      @import url("resources/styles/main.css") screen;
    </style>

  </head>

  <body class="fullbleed vertical layout" unresolved>
    <template is="dom-bind">
      <iron-ajax url="server/data.json" last-response="{{data}}" auto></iron-ajax>
      <paper-drawer-panel class="flex">
      
        <!-- Drawer -->
        <paper-header-panel drawer>
          <paper-toolbar>
            <div>Predigtreihen</div>
          </paper-toolbar>
          <paper-menu>
            <template is="dom-repeat" items="[[data]]" as="series">
              <paper-submenu>
                <paper-item class="menu-trigger">[[series.title]]</paper-item>
                <paper-menu class="menu-content">
                  <template is="dom-repeat" items="[[series.sermons]]" as="sermon">
                    <paper-item style="margin-left: 7px">[[sermon.title]]</paper-item>
                  </template>
                </paper-menu>
                </paper-submenu>
            </template>
          </paper-menu>
        </paper-header-panel>
        
        <!-- Content -->
        <paper-header-panel main>
          <paper-toolbar>
            <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
            <div>HdH Mannheim PredigtHub</div>
          </paper-toolbar>
          
          <!-- Series List -->
          <template is="dom-repeat" items="[[data]]" as="series">
            <sermon-series series="[[series]]"></sermon-series>  
          </template>
          
        </paper-header-panel>
      
      </paper-drawer-panel>
    </template>
  </body>
</html>